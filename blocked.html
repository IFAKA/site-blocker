<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blocked</title>
    <link rel="stylesheet" href="blocked.css">
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <h1>Mindful Pause</h1>
          <div style="display: flex; align-items: center; gap: 8px;">
            <div class="pill" id="context"></div>
            <button class="btn ghost" id="globalShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
        </div>
        <div class="sub">Take a moment to reflect, learn, and grow.</div>

        <!-- Doodle Gallery Section -->
        <div class="content-section" style="margin-top: 24px;">
          <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h3 style="margin: 0; color: #ec4899; font-size: 1.2rem; font-weight: 600;">üé® Doodle Gallery</h3>
            <div class="gallery-stats" id="doodleGalleryStats" style="font-size: 0.9rem; color: #94a3b8;">
              <span id="doodleCount">0 doodles</span>
            </div>
          </div>
          <div class="gallery-preview-container" id="doodleGalleryPreview" style="background: linear-gradient(135deg, #1e293b, #334155); border-radius: 12px; border: 1px solid #475569; padding: 20px; cursor: pointer; transition: all 0.3s ease;">
            <!-- Gallery Preview Grid -->
            <div class="gallery-preview-grid" id="doodleGalleryPreviewGrid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; min-height: 120px;">
              <!-- 4 random preview images will be rendered here -->
            </div>
            
            <!-- Gallery Preview Info -->
            <div class="gallery-preview-info" style="margin-top: 12px; font-size: 0.9rem; color: #cbd5e1; text-align: center;">
              <div>Click to open gallery management ‚Ä¢ <strong>G</strong> for full gallery control</div>
            </div>
          </div>
        </div>

        <div style="display: grid; gap: 12px;">
          <div class="row" style="margin: 0; gap: 12px;">
            <div>
              <h3>What were you looking for?</h3>
              <textarea
                id="intent"
                placeholder="Write the task, need, or feeling you were chasing..."
              ></textarea>
              <div
                class="muted"
                id="intentSaved"
                style="display: none; margin-top: 6px"
              >
                Saved locally (see Journal below).
              </div>
            </div>
            <div>
              <div class="exercise" id="exerciseBox">
                <h3 id="exTitle">Exercise set</h3>
                <div class="muted" id="exSubtitle"></div>
                <div class="note" id="exNotes" style="margin-top: 6px"></div>
                <div class="muted" id="exProgress" style="margin-top: 6px"></div>
                <div style="display: flex; gap: 8px; margin-top: 10px">
                  <button class="btn" id="exStart">
                    Start set
                  </button>
                  <button class="btn ghost" id="exSkip">Skip once</button>
                  <button class="btn secondary" id="exReset">Reset cycle</button>
                </div>
              </div>
            </div>
          </div>
          <div class="row" style="margin-top: 12px; gap: 12px;">
            <div>
              <h3>Journal</h3>
              <div class="journal" id="journalBox">
                <div id="journalEntries" class="muted">No entries yet.</div>
              </div>
            </div>
          </div>
          
          <!-- Activities Section -->
          <div class="progress-section" style="margin-top: 20px;">
                <h3>Activities</h3>
                <div class="progress-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-top: 12px;">
                  
                  <!-- Mind Exercises Progress -->
                  <div class="progress-card" id="mindProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #10b981; font-size: 1rem;">üß† Brain Training</h4>
                      <div class="progress-stats" id="mindProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="mindSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="mindProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Complete sessions to see your progress
                      </div>
                    </div>
                    <div class="progress-summary" id="mindProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1;">
                      <span id="mindBestScore">Best: 0</span> ‚Ä¢ <span id="mindAvgScore">Avg: 0</span>
                    </div>
                  </div>
                  
                  <!-- Eye Health Progress -->
                  <div class="progress-card" id="eyeProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #3b82f6; font-size: 1rem;">üëÅÔ∏è Eye Health</h4>
                      <div class="progress-stats" id="eyeProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="eyeSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="eyeProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Complete sessions to see your progress
                      </div>
                    </div>
                    <div class="progress-summary" id="eyeProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1;">
                      <span id="eyeTotalTime">Total: 0min</span> ‚Ä¢ <span id="eyeStreak">Streak: 0</span>
                    </div>
                  </div>
                  
                  <!-- Chinese Learning Progress -->
                  <div class="progress-card" id="chineseProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #f59e0b; font-size: 1rem;">üá®üá≥ Chinese Learning</h4>
                      <div class="progress-stats" id="chineseProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="chineseSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="chineseProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Complete sessions to see your progress
                      </div>
                    </div>
                    <div class="progress-summary" id="chineseProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1;">
                      <span id="chineseWordsLearned">Words: 0</span> ‚Ä¢ <span id="chineseAccuracy">Accuracy: 0%</span>
                    </div>
                  </div>
                  
                  <!-- Prayer Progress -->
                  <div class="progress-card" id="prayerProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #8b5cf6; font-size: 1rem;">üôè Prayer</h4>
                      <div class="progress-stats" id="prayerProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="prayerSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="prayerProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Complete sessions to see your progress
                      </div>
                    </div>
                    <div class="progress-summary" id="prayerProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1; display: flex; justify-content: space-between; align-items: center;">
                      <div>
                        <span id="prayerTotalTime">Total: 0min</span> ‚Ä¢ <span id="prayerStreak">Streak: 0</span>
                      </div>
                      <div id="prayerCountdown" style="font-size: 0.8rem; color: #8b5cf6; font-weight: 600; display: none;">
                        60s
                      </div>
                    </div>
                  </div>
                  
                  <!-- Reading Progress -->
                  <div class="progress-card" id="readingProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #06b6d4; font-size: 1rem;">üìö Reading</h4>
                      <div class="progress-stats" id="readingProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="readingSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="readingProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Complete sessions to see your progress
                      </div>
                    </div>
                    <div class="progress-summary" id="readingProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1;">
                      <span id="readingWordsRead">Words: 0</span> ‚Ä¢ <span id="readingWPM">WPM: 0</span>
                    </div>
                  </div>
                  
                  <!-- Mirror Progress -->
                  <div class="progress-card" id="mirrorProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #3b82f6; font-size: 1rem;">ü™û Mirror</h4>
                      <div class="progress-stats" id="mirrorProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="mirrorSessionsCount">0 sessions</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="mirrorProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Take a moment to see yourself
                      </div>
                    </div>
                    <div class="progress-summary" id="mirrorProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1; display: flex; justify-content: space-between; align-items: center;">
                      <div>
                        <span id="mirrorTotalTime">Total: 0min</span> ‚Ä¢ <span id="mirrorStreak">Streak: 0</span>
                      </div>
                      <div style="display: flex; gap: 8px;">
                        <button class="btn" id="mirrorCardBtn" style="padding: 4px 8px; font-size: 0.7rem;">Start 5s mirror</button>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Draw Progress -->
                  <div class="progress-card" id="drawProgressCard" style="padding: 16px; background: #1e293b; border-radius: 8px; border: 1px solid #475569;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                      <h4 style="margin: 0; color: #ec4899; font-size: 1rem;">üé® Draw your mood</h4>
                      <div class="progress-stats" id="drawProgressStats" style="font-size: 0.8rem; color: #94a3b8;">
                        <span id="drawSessionsCount">0 doodles</span>
                      </div>
                    </div>
                    <div class="progress-chart" id="drawProgressChart" style="height: 60px; background: #0f172a; border-radius: 4px; position: relative; overflow: hidden;">
                      <div class="chart-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #64748b; font-size: 0.8rem;">
                        Express your current feelings
                      </div>
                    </div>
                    <div class="progress-summary" id="drawProgressSummary" style="margin-top: 8px; font-size: 0.8rem; color: #cbd5e1; display: flex; justify-content: space-between; align-items: center;">
                      <div>
                        <span id="drawTotalTime">Total: 0min</span> ‚Ä¢ <span id="drawStreak">Streak: 0</span>
                      </div>
                      <div style="display: flex; gap: 8px;">
                        <button class="btn" id="drawCardBtn" style="padding: 4px 8px; font-size: 0.7rem;">Start drawing</button>
                      </div>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
          
          
        </div>
      </div>
    </div>
    
    <!-- Gallery Management Modal -->
    <div id="galleryModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Gallery Management</h3>
            <span id="selectedCount" style="font-size: 0.8rem; color: #94a3b8;">0 selected</span>
            <button class="btn ghost" id="galleryShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="galleryClose">Close</button>
        </div>
        
        
        <!-- Gallery Content -->
        <div class="doodle-gallery" id="doodleGallery">
          <div class="gallery-placeholder" style="width: 100%; display: flex; align-items: center; justify-content: center; height: 400px; color: #64748b; font-size: 1rem; flex-direction: column; gap: 8px;">
            <div style="font-size: 2rem;">üé®</div>
            <div>Create doodles to see them here</div>
            <div style="font-size: 0.8rem; color: #64748b;">Use the Doodle tool (D key) to start creating</div>
          </div>
        </div>

      </div>
    </div>
    
    <div id="overlay" class="overlay" aria-hidden="true">
      <div class="message" id="overlayMsg">Copied to clipboard</div>
    </div>
    
    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal" class="modal" aria-hidden="true">
      <div class="panel" style="max-width: 400px;">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <h3>Confirm Delete</h3>
          <button class="btn ghost" id="deleteConfirmClose">√ó</button>
        </div>
        <div style="margin: 16px 0;">
          <p id="deleteConfirmMessage">Are you sure you want to delete the selected items? This action cannot be undone.</p>
        </div>
        <div style="display: flex; gap: 8px; justify-content: flex-end;">
          <button class="btn secondary" id="deleteConfirmNo">No (N)</button>
          <button class="btn danger" id="deleteConfirmYes">Yes (Y)</button>
        </div>
      </div>
    </div>
    
    <!-- Reading modal -->
    <div id="readModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>1‚Äëminute reading</h3>
            <button class="btn ghost" id="readShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="readClose">Close</button>
        </div>
        <div class="reader"><div class="word" id="readWord">‚Äî</div></div>
        <div class="controls" style="margin-top: 16px; display: flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 16px;">
            <button class="btn" id="readStart">Start</button>
            <label class="muted" for="wpm">WPM</label>
            <input id="wpm" type="number" min="60" max="1200" step="10" value="250" />
            <div class="muted" id="readInfo"></div>
          </div>
          <div class="muted" id="readStatus">Loading bundled text‚Ä¶</div>
        </div>
      </div>
    </div>
    <!-- Doodle modal -->
    <div id="doodleModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Draw your mood</h3>
            <button class="btn ghost" id="doodleShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="doodleClose">Close</button>
        </div>
        <div class="doodle-container">
          <div class="doodle-prompt">Hold spacebar and move your mouse to draw</div>
          <canvas id="doodleCanvas" class="doodle-canvas"></canvas>
        </div>
      </div>
    </div>
    <!-- Eye Health modal -->
    <div id="eyeHealthModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Eye Health Routine</h3>
            <button class="btn ghost" id="eyeShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="eyeClose">Close</button>
        </div>
        <div class="eye-health-content">
          <div class="eye-phase">
            <h4 id="eyeTitle">Distance Focus</h4>
            <div class="eye-subtitle" id="eyeSubtitle">15 seconds</div>
            <div class="eye-instruction" id="eyeInstruction">Look at something 20+ feet away and focus</div>
            <div class="eye-progress" id="eyeProgress">Phase 1 of 4</div>
          </div>
          <div class="eye-breathing" id="eyeBreathing" style="display: none;">
            <div class="breathing-indicator">Breathe In (4s)</div>
          </div>
          <div class="eye-controls" style="margin-top: 16px; display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 16px;">
              <button class="btn" id="eyeStart">Cancel routine</button>
              <button class="btn ghost" id="eyeSkip">Skip phase</button>
              <button class="btn ghost" id="eyeReset">Reset</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Mind Exercise modal -->
    <div id="mindModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Mind Exercises</h3>
            <button class="btn ghost" id="mindShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="mindClose">Close</button>
        </div>
        <div class="mind-content">
          <div class="mind-stats" id="mindStats"></div>
          <div class="mind-exercise">
            <div class="mind-header">
              <div class="mind-category" id="mindCategory">Category</div>
              <div class="mind-difficulty" id="mindDifficulty">Difficulty</div>
            </div>
            <div class="mind-question" id="mindQuestion">Press Start to begin</div>
            <div class="mind-matrix" id="mindMatrix" style="display: none;"></div>
            <div class="mind-answer-section">
              <input type="text" id="mindAnswer" placeholder="Your answer..." />
              <button class="btn" id="mindSubmit">Submit</button>
            </div>
            <div class="mind-feedback" id="mindFeedback" style="display: none;"></div>
            <div class="mind-explanation" id="mindExplanation" style="display: none;"></div>
            <div class="mind-hint-display" id="mindHintDisplay" style="display: none;"></div>
          </div>
          <div class="mind-progress">
            <div class="mind-progress-bar">
              <div class="mind-progress-fill" id="mindProgressFill" style="width: 0%"></div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
            <div class="mind-time" id="mindTime">60s remaining</div>
            <div class="mind-score" id="mindScore">Score: 0</div>
            <div class="mind-progress-text" id="mindProgress">0 exercises completed</div>
            </div>
          </div>
          <div class="mind-controls" style="margin-top: 16px; display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 16px;">
              <button class="btn" id="mindStart">Stop Session</button>
              <button class="btn ghost" id="mindHint">Hint (H)</button>
              <button class="btn ghost" id="mindSkip">Skip (N)</button>
              <button class="btn ghost" id="mindReset">Reset (R)</button>
            </div>
          </div>
          <div class="mind-results" id="mindResults" style="display: none;"></div>
        </div>
      </div>
    </div>
    
    <!-- Mind Shortcuts Help Modal -->
    <div id="mindShortcutsModal" class="modal" aria-hidden="true">
      <div class="panel" style="max-width: 500px;">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <h3>Mind Exercises Shortcuts</h3>
          <button class="btn ghost" id="mindShortcutsClose">Close</button>
        </div>
        <div style="padding: 16px 0;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">Space / S</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Start/Stop Session</div>
            </div>
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">Enter</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Submit Answer</div>
            </div>
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">H</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Show Hint</div>
            </div>
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">N</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Skip Exercise</div>
            </div>
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">R</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Reset Session</div>
            </div>
            <div style="padding: 8px; background: #1e293b; border-radius: 6px; border: 1px solid #334155;">
              <div style="font-weight: 700; color: #10b981; margin-bottom: 4px;">I</div>
              <div style="font-size: 0.9rem; color: #cbd5e1;">Focus Input</div>
            </div>
          </div>
          <div style="padding: 12px; background: linear-gradient(135deg, #1e293b, #334155); border-radius: 8px; border-left: 4px solid #10b981;">
            <div style="font-weight: 700; color: #10b981; margin-bottom: 8px;">üí° Tips:</div>
            <div style="font-size: 0.9rem; color: #cbd5e1; line-height: 1.5;">
              ‚Ä¢ Use Tab to navigate between elements<br>
              ‚Ä¢ Press Escape to unfocus inputs<br>
              ‚Ä¢ Memory matrices show for 5 seconds<br>
              ‚Ä¢ Partial credit is given for close answers
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Chinese Language Learning modal -->
    <div id="chineseModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Chinese Language Learning</h3>
            <button class="btn ghost" id="chineseShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="chineseClose">Close</button>
        </div>
        <div class="chinese-content">
          <div class="chinese-stats">
            <div class="chinese-progress" id="chineseProgress">Words learned: 0 | Accuracy: 0%</div>
            <div class="chinese-timer" id="chineseTimer">60s remaining</div>
          </div>
          <div class="chinese-vocabulary">
            <div class="chinese-word-section">
              <div class="chinese-word" id="chineseWord">‰Ω†Â•Ω</div>
              <div class="chinese-pinyin" id="chinesePinyin">n«ê h«éo</div>
              <div class="chinese-meaning" id="chineseMeaning">Hello</div>
            </div>
            <div class="chinese-example-section">
              <div class="chinese-example" id="chineseExample">‰Ω†Â•ΩÔºåÂæàÈ´òÂÖ¥ËÆ§ËØÜ‰Ω†„ÄÇ</div>
              <div class="chinese-example-pinyin" id="chineseExamplePinyin">n«ê h«éo, hƒõn gƒÅo x√¨ng r√®n shi n«ê.</div>
              <div class="chinese-example-translation" id="chineseExampleTranslation">Hello, nice to meet you.</div>
            </div>
          </div>
          <div class="chinese-audio-section">
            <div class="chinese-audio-controls">
              <button class="btn" id="chineseRecord">üé§ Start Recording</button>
              <button class="btn ghost" id="chinesePlay">üîä Play Recording</button>
            </div>
            <div class="chinese-audio-status">
              <div class="chinese-microphone-status" id="chineseMicrophoneStatus">Checking microphone...</div>
              <div class="chinese-tts-status" id="chineseTTSStatus">Checking TTS...</div>
              <div class="chinese-recording-status" id="chineseRecordingStatus">Ready to record</div>
            </div>
          </div>
          <div class="chinese-controls" style="margin-top: 16px; display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 16px;">
              <button class="btn" id="chineseStart">New Word</button>
              <button class="btn ghost" id="chineseNext">Next (N)</button>
              <button class="btn ghost" id="chinesePrev">Previous (P)</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Mirror modal -->
    <div id="mirrorModal" class="modal" aria-hidden="true">
      <div class="panel mirror-panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <h3>Mirror</h3>
            <button class="btn ghost" id="mirrorShortcutsBtn" style="padding: 4px 8px; font-size: 0.8rem;">?</button>
          </div>
          <button class="btn ghost" id="mirrorClose">Close</button>
        </div>
        <div class="mirror-content">
          <div class="mirror-container">
            <video id="mirrorVideo" autoplay muted playsinline></video>
            <canvas id="mirrorCanvas" class="mirror-canvas"></canvas>
            <div class="mirror-timer" id="mirrorTimer">5</div>
          </div>
          <div class="mirror-feedback" id="mirrorFeedback">Photo copied!</div>
        </div>
      </div>
    </div>
    
    <!-- Keyboard Shortcuts Modal -->
    <div id="shortcutsModal" class="modal" aria-hidden="true">
      <div class="panel">
        <div style="display:flex; justify-content: space-between; align-items: center;">
          <h3 id="shortcutsTitle">Keyboard Shortcuts</h3>
          <button class="btn ghost" id="shortcutsClose">Close</button>
        </div>
        <div id="shortcutsContent" style="padding: 16px 0;">
          <!-- Content will be populated dynamically -->
        </div>
      </div>
    </div>
    
    <script type="module" src="blocked.js"></script>
  </body>
</html>